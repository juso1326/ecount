# Ecount å¤šç§Ÿæˆ¶å¸³å‹™ç³»çµ± - é–‹ç™¼å¤§ç¶±

> Laravel 11.x å¤šç§Ÿæˆ¶ï¼ˆMulti-Tenancyï¼‰æ¶æ§‹çš„å°ˆæ¡ˆç®¡ç†èˆ‡è²¡å‹™ç³»çµ±

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

### ç›®æ¨™
å°‡èˆŠç‰ˆ PHP å°ˆæ¡ˆç®¡ç†ç³»çµ±é·ç§»è‡³ Laravel æ¡†æ¶ï¼Œå»ºç«‹å…·å‚™ä»¥ä¸‹ç‰¹æ€§çš„ç¾ä»£åŒ–ç³»çµ±ï¼š
- âœ… **å¤šç§Ÿæˆ¶æ¶æ§‹** - æ¯å€‹å•†å®¶ç¨ç«‹è³‡æ–™åº«ï¼ˆDatabase per Tenantï¼‰
- âœ… **è¶…ç´šç®¡ç†å“¡** - é›†ä¸­ç®¡æ§æ‰€æœ‰å•†å®¶
- âœ… **å¿«é€Ÿå»ºç«‹** - è‡ªå‹•åŒ–å»ºç«‹æ–°å•†å®¶ç³»çµ±
- âœ… **æ¬Šé™ç®¡ç†** - é›™å±¤æ¬Šé™ç³»çµ±ï¼ˆè¶…ç®¡ + ç§Ÿæˆ¶è‡ªè¨‚ï¼‰
- âœ… **API First** - æ¼¸é€²å¼å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### æ ¸å¿ƒæŠ€è¡“æ£§
| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Laravel | 12.49.0 | å¾Œç«¯æ¡†æ¶ |
| Stancl Tenancy | 3.9.1 | å¤šç§Ÿæˆ¶ç®¡ç† |
| Spatie Permission | 6.24.0 | æ¬Šé™ç³»çµ± |
| Laravel Sanctum | 4.3.0 | API èªè­‰ |
| Spatie Query Builder | 6.4.1 | é€²éšæŸ¥è©¢ |
| MariaDB | 8.0+ | è³‡æ–™åº« (Port 3307) |
| Blade + Alpine.js | - | å‰ç«¯ (Phase 1-2) |
| Vue 3 | - | å‰ç«¯ (Phase 3+) |

### å¤šç§Ÿæˆ¶æ¶æ§‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ä¸­å¤®è³‡æ–™åº« (ecount_central)            â”‚
â”‚  - tenants (å•†å®¶è³‡æ–™)                     â”‚
â”‚  - super_admins (è¶…ç´šç®¡ç†å“¡)              â”‚
â”‚  - domains (å­åŸŸåå°æ‡‰)                   â”‚
â”‚  - roles & permissions (æ¬Šé™è¡¨)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ tenant_abc123_db (å•†å®¶A)
           â”œâ”€â†’ tenant_def456_db (å•†å®¶B)  
           â””â”€â†’ tenant_ghi789_db (å•†å®¶C)
```

**è­˜åˆ¥æ–¹å¼**: å­åŸŸå
- `abc123.ecount.com` â†’ `tenant_abc123_db`
- `def456.ecount.com` â†’ `tenant_def456_db`

---

## ğŸ“… é–‹ç™¼éšæ®µè¦åŠƒ

### âœ… Phase 1: ç’°å¢ƒå»ºç½®èˆ‡åŸºç¤æ¶æ§‹ (Week 1-2)
**ç‹€æ…‹**: å·²å®Œæˆ 80%

**å·²å®Œæˆé …ç›®**:
- [x] å»ºç«‹ Laravel 12 å°ˆæ¡ˆ
- [x] å®‰è£æ ¸å¿ƒå¥—ä»¶ï¼ˆTenancy, Permission, Sanctumï¼‰
- [x] é…ç½®è³‡æ–™åº« (MariaDB Port 3307)
- [x] å»ºç«‹ä¸­å¤®è³‡æ–™åº« `ecount_central`
- [x] åŸ·è¡ŒåŸºç¤ Migration (17 å¼µè¡¨)
- [x] è‡ªè¨‚ Tenant Model

**å¾…å®Œæˆ**:
- [ ] ç§Ÿæˆ¶å¿«é€Ÿå»ºç«‹æµç¨‹ (Job Queue)
- [ ] è¶…ç´šç®¡ç†å“¡èªè­‰ç³»çµ±

---

### ğŸ“‹ Phase 2-8: è©³ç´°è¦åŠƒ

è«‹åƒé–±å„éšæ®µæ–‡ä»¶ï¼š
- **Phase 2**: è³‡æ–™åº«çµæ§‹è¨­è¨ˆ (Week 2-3)
- **Phase 3**: è¶…ç´šç®¡ç†å“¡åŠŸèƒ½ (Week 3-4)
- **Phase 4**: ç§Ÿæˆ¶ç³»çµ±æ ¸å¿ƒ (Week 4-6)
- **Phase 5**: æ¥­å‹™é‚è¼¯é·ç§» (Week 6-8)
- **Phase 6**: æ¸¬è©¦é–‹ç™¼ (è²«ç©¿å…¨ç¨‹)
- **Phase 7**: API å±¤é–‹ç™¼ (Week 9-11)
- **Phase 8**: éƒ¨ç½²èˆ‡æ–‡ä»¶ (Week 11-12)

---

## ğŸ¯ ç›®å‰é€²åº¦

### âœ… å·²å®Œæˆ
- Laravel 12.49.0 å°ˆæ¡ˆå»ºç«‹
- å¤šç§Ÿæˆ¶å¥—ä»¶å®‰è£èˆ‡é…ç½®
- è³‡æ–™åº«é€£ç·šè¨­å®š (MariaDB Port 3307)
- åŸºç¤ Migration åŸ·è¡Œï¼ˆ17 å¼µè¡¨ï¼‰
- Tenant Model å»ºç«‹
- Git Repository åˆå§‹åŒ–

### ğŸš§ ä¸‹ä¸€æ­¥
1. å»ºç«‹ç§Ÿæˆ¶å¿«é€Ÿå»ºç«‹ Job
2. é–‹ç™¼è¶…ç´šç®¡ç†å“¡èªè­‰
3. è¨­è¨ˆç§Ÿæˆ¶è³‡æ–™åº« Schema

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

```bash
# Clone å°ˆæ¡ˆ
git clone https://github.com/juso1326/ecount.git
cd ecount/ecount-laravel

# å®‰è£ä¾è³´
composer install

# ç’°å¢ƒè¨­å®š
cp .env.example .env
php artisan key:generate

# åŸ·è¡Œ Migration
php artisan migrate

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
php artisan serve
```

---

## ğŸ“ é–‹ç™¼è¦ç¯„

### Git Commit è¦ç¯„
- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¾© Bug  
- `docs:` æ–‡ä»¶æ›´æ–°
- `refactor:` é‡æ§‹
- `test:` æ¸¬è©¦ç›¸é—œ

---

**æœ€å¾Œæ›´æ–°**: 2026-01-29  
**ç‰ˆæœ¬**: 1.0.0  
**ç‹€æ…‹**: Phase 1 é–‹ç™¼ä¸­ (80%)
